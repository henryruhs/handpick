#!/usr/bin/env node

const program = require('commander');
const ora = require('ora');
const option = require('utility-redaxmedia').option(__dirname + '/../option.json');
const handpick = require('../');
const core = handpick.core;
const packageArray = require('../package.json');

let CORE;

program
	.version(packageArray.name + ' ' + packageArray.version)
	.option('-M, --manager <manager>')
	.option('-P, --path <path>')
	.option('-T, --target <target>')
	.parse(process.argv);

option.init(
{
	manager: program.manager,
	path: program.path,
	targetArray: program.target ? program.target.split(' ') : option.get('targetArray')
});
CORE = new core(
{
	spinner: ora(
	{
		spinner: 'bouncingBar'
	}),
	option
});
CORE.init();
